# ç¾å›¢å¤–å– APP ä»¿çœŸç‰ˆ

> å¸¸å¹´ä»¥ç¾å›¢ä¸ºç”Ÿï¼Œä¼šå‘˜ä¸€å¹´ä¸€å¹´çš„ä¹°ï¼Œçº¢åŒ…æœ‰æ—¶å€™ä¹°æ»¡è¿˜ä¸å¤Ÿç”¨çš„æˆ‘ï¼Œä¸‰é¤/å¤œå®µ/æ°´æœ/ç»™å¥³æœ‹å‹ç‚¹å¥¶èŒ¶ï¼Œè¿™æ¬¡çœ‹åˆ°è¿™ä¸ªé¡¹ç›®å°±æ„Ÿè§‰æŒ‰è€ä¸ä½äº†...
> ä½†æ˜¯è¿™ä¸ªé¡¹ç›®æœ‰å‡ ä¸ªé—®é¢˜ï¼š
>
> - ä¾èµ–ç‰ˆæœ¬è¿‡ä½æˆ–æ˜¯ç¼ºå¤±ï¼Œæ¯”å¦‚ `babel` è¿˜æ˜¯ 6ï¼Œwebpack å’Œå„ç§æ’ä»¶/loader ç‰ˆæœ¬ä¹ŸæŒºè€çš„ï¼Œè¿˜æœ‰ï¼Œæ²¡æœ‰ `webpackbar` å¯¼è‡´æˆ‘æ„Ÿè§‰æ‰“åŒ…è¿‡ç¨‹æ²¡æ°›å›´ï¼ˆï¼Ÿï¼‰
> - ç›®å½•ç»“æ„ï¼Œemmm å¤ªæ²¡æœ‰ç¾æ„Ÿäº†
> - ç»„ä»¶å¤ç”¨åŠæ‹†åˆ†åšçš„ä¸æ˜¯å¾ˆåˆ°ä½
> - ä»£ç æ ¼å¼ï¼Œçœ‹äº†ä¸€ä¸‹å¥½åƒ UI å’Œé€»è¾‘è¿˜æ˜¯æœ‰äº›è€¦åˆ
> - mock æ•°æ®çš„æ–¹å¼æ˜¯æ–‡ä»¶å¤¹å’Œä¸€å † JSON æ–‡ä»¶
> - ...
>
> é‚£è¿˜è¯´ä¸ª ğŸ”¨ï¼Œé‡æ„å•Šï¼

## é‡æ„è®¡åˆ’

- [x] å‡çº§æ ¸å¿ƒä¾èµ–ï¼Œæ·»åŠ è¾…åŠ©ä¾èµ–

  - Babel --> 7.0
  - lint å·¥å…·
  - Webpack ä¼˜åŒ–æ’ä»¶
  - ...

- [ ] åŒºåˆ†å¼€å‘/æµ‹è¯•/éƒ¨ç½²ç¯å¢ƒ
- [x] Hooksã€FC åˆæ­¥é‡æ„æ‰€æœ‰ç»„ä»¶ï¼Œä¸€ä¸ªç±»ç»„ä»¶ä¸ç•™
- [ ] tsx é‡æ„ç»„ä»¶ï¼Œè€¦åˆ â¬‡ å†…èš â¬†
- [ ] Koa & Ts æ­å»ºæœåŠ¡ç«¯ï¼Œæä¾› RestFul Apiï¼ˆå¦‚æœå­¦äº† GraphQL å°±ä¸Šå®ƒï¼‰
- [ ] å•å…ƒæµ‹è¯•ã€UI æµ‹è¯•ç­‰
- [ ] ä¼˜åŒ–æ ·å¼è¡¨ç°
- [ ] æ·»åŠ æ›´å¤šåŠŸèƒ½
- [ ] ï¼ˆç»ˆæç‰ˆï¼‰ä½¿ç”¨ React Native é‡æ„

## åŸæœ‰ç»“æ„æ•´ç†

```text
ç›® å½• ç»“ æ„
| - config/ ----- webpack é…ç½®
| - dev/ ----- æš‚æ—¶çš„mockæ–‡ä»¶
| - router/ ----- æœåŠ¡ç«¯è·¯ç”±
| - server/ ----- æœåŠ¡ç«¯å…¥å£
| - src/
| | - component/ ----- ç»„ä»¶
| | - page/
    | - category/ -----
    | - detail/ -----
    | - evalution/ -----
    | - index/ -----
  | - static/ ----- ç¾å›¢tokenã€æ ·å¼è½¬åŒ–æ–‡ä»¶


```

### [history](https://github.com/ReactTraining/history/tree/master/docs)

å¯¹æµè§ˆå™¨ `History` `Location` API çš„å¢å¼ºï¼ˆå°è£…ï¼‰ï¼Œè¿™é‡Œä½¿ç”¨äº†å…¶ `createHashHistory` apiï¼Œåˆ›å»ºåŸºäº hash çš„ history æ ˆã€‚

### react-router-redux(5.0.0-alpha.9)

è§£å†³äº† redux å’Œ react-router åä½œçš„é—®é¢˜ï¼Œå±äº redux çš„ä¸­é—´ä»¶ã€‚è¿™é‡Œå°† `history` å’Œ `react-router-redux` ç»“åˆèµ·æ¥ä½œä¸º react-redux çš„ä¸­é—´ä»¶ï¼Œèƒ½å¤Ÿå°† history æ¥æ”¶åˆ°çš„å˜åŒ–åé¦ˆåˆ° store ä¸­ï¼ˆdispatch actionï¼‰ã€‚åŒæ—¶å¯ä»¥ä½¿ç”¨ redux çš„æ–¹å¼å»æ“ä½œ react-routerï¼Œä¾‹å¦‚è·³è½¬ url å¯ä»¥é€šè¿‡ dispatch æ¥æ‰§è¡Œã€‚æœ¬è´¨ä¸Šå¥½åƒå°±æ˜¯æŠŠ react-router åŸæœ¬ç§æœ‰çš„çŠ¶æ€ä¹Ÿäº¤ç»™ redux ç®¡ç†äº†ã€‚

```javascript
<Provider store={store}>{/*react-redux*/}
  <ConnectedRouter history={history}>
    <Container />
  </ConnectedRouter>
</Provider>,
```

ï¼ˆ!è¿™ä¸ªä»“åº“å·²ç»ä¸ç»´æŠ¤äº†ï¼Œä¼°è®¡è¦å¯»æ‰¾æ–°çš„æ›¿ä»£å“ï¼‰

### å¼€å¯ webpack HMR

- å…¨å±€å¼€å¯ä»£ç çƒ­æ›¿æ¢ (HotModuleReplacementPlugin)
- æ’å…¥çƒ­æ›¿æ¢ä»£ç  module.hot.accept

```javascript
// å¦‚æœæ›´æ”¹äº†reducerï¼Œåˆ™é‡æ–°èµ‹å€¼reducerï¼Œæ¥ä¿æŒHMRå®Œæ•´æ€§
module.hot.accept("./reducers/main", () => {
  const nextRootReducer = require("./reducers/main.js").default;
  store.replaceReducer(nextRootReducer);
});
```
